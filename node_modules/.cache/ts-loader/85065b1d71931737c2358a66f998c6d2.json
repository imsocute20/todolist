{"remainingRequest":"/Users/shulun-001/Downloads/ts-bian-show/node_modules/babel-loader/lib/index.js!/Users/shulun-001/Downloads/ts-bian-show/node_modules/ts-loader/index.js??ref--13-2!/Users/shulun-001/Downloads/ts-bian-show/src/store/DataHelper.ts","dependencies":[{"path":"/Users/shulun-001/Downloads/ts-bian-show/src/store/DataHelper.ts","mtime":1631256547759},{"path":"/Users/shulun-001/Downloads/ts-bian-show/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shulun-001/Downloads/ts-bian-show/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/shulun-001/Downloads/ts-bian-show/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvc2h1bHVuLTAwMS9Eb3dubG9hZHMvdHMtYmlhbi1zaG93L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3NodWx1bi0wMDEvRG93bmxvYWRzL3RzLWJpYW4tc2hvdy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKCi8vIERhdGFIZWxwZXLnsbsgLSDotJ/otKMgbG9jYWxTdG9yYWdlIOaTjeS9nAp2YXIgRGF0YUhlbHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgLy8g5LiA44CB5p6E6YCg5Ye95pWwIC0t5L2c55So77ya5Li65a+56LGhIOa3u+WKoCDlkITnp43lsZ7mgKctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIGZ1bmN0aW9uIERhdGFIZWxwZXIoKSB7CiAgICB2YXIgZGF0YUtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJzEnOwogICAgdmFyIHByaW1hcnlLZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcxMic7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGFIZWxwZXIpOwoKICAgIHRoaXMuZGF0YUtleSA9IGRhdGFLZXk7CiAgICB0aGlzLnByaW1hcnlLZXkgPSBwcmltYXJ5S2V5OwogIH0gLy8gMS7or7vlj5blhajpg6jmlbDmja7vvIzov5Tlm57mlbDnu4Qo5aaC5p6c5rKh5pyJ6K+75Yiw5pWw5o2uIOWwsei/lOWbniDnqbrmlbDnu4QpLS0tLS0tLS0tLS0tCgoKICBfY3JlYXRlQ2xhc3MoRGF0YUhlbHBlciwgW3sKICAgIGtleTogInJlYWREYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWFkRGF0YSgpIHsKICAgICAgLy8xLuivu+WPliDmnKzlnLDmlbDmja4o5qC55o2uZGF0YUtleeivu+WPlikKICAgICAgdmFyIHN0ckRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmRhdGFLZXkpOyAvLzIu5bCGIOivu+WPlueahCBqc29u5pWw57uE5a2X56ym5LiyIOi9rOaIkOaVsOe7hOWvueixoQoKICAgICAgdmFyIGFyckRhdGEgPSBbXTsKCiAgICAgIGlmIChzdHJEYXRhICE9IG51bGwpIHsKICAgICAgICBhcnJEYXRhID0gSlNPTi5wYXJzZShzdHJEYXRhKTsKICAgICAgfSAvLzMu6L+U5ZueIOaVsOe7hOWvueixoQoKCiAgICAgIHJldHVybiBhcnJEYXRhOwogICAgfSAvLyAyLuWtmOWFpeacrOWcsOaVsOaNriAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIH0sIHsKICAgIGtleTogInNhdmVEYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlRGF0YShhcnJEYXRhKSB7CiAgICAgIC8vMS7lsIbmlbDnu4Qg6L2s5oiQIGpzb27lrZfnrKbkuLIKICAgICAgdmFyIHN0ciA9IEpTT04uc3RyaW5naWZ5KGFyckRhdGEpOyAvLzIu5bCG5a2X56ym5LiyIOS/neWtmOWIsCDmnKzlnLAgbG9jYWxTdG9yYWdlIOS4rQoKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5kYXRhS2V5LCBzdHIpOwogICAgfSAvLyAzLuaWsOWinuaVsOaNri0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICB9LCB7CiAgICBrZXk6ICJhZGREYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGREYXRhKG5ld0RhdGFPYmopIHsKICAgICAgdmFyIGRhdGFBcnJheSA9IHRoaXMucmVhZERhdGEoKTsKCiAgICAgIGlmIChkYXRhQXJyYXkgPT0gbnVsbCkgewogICAgICAgIGRhdGFBcnJheSA9IFtdOwogICAgICB9IC8vIOiHquWKqOeUn+aIkCDkuLvplK7lgLwgKGlkIOWAvCkKICAgICAgLy8gIOWmguaenCDmlbDnu4Qg6ZW/5bqmID4gMO+8jOWImSDlsIYg5pyA5ZCO5LiA5LiqIOWFg+e0oOeahCBpZCDlgLwg5Y+W5Ye6ICsgMSDkvZzkuLog5paw5YWD57Sg55qEIGlk5YC8CiAgICAgIC8vICAgICAgICAgICAgICAgPD0gMCwg5YiZIOWwhiAxIOS9nOS4uiDmlrDlhYPntKDnmoQgaWQg5YC8CgoKICAgICAgdmFyIG5ld0lkID0gZGF0YUFycmF5Lmxlbmd0aCA+IDAgPyBkYXRhQXJyYXlbZGF0YUFycmF5Lmxlbmd0aCAtIDFdW3RoaXMucHJpbWFyeUtleV0gKyAxIDogMTsKICAgICAgbmV3RGF0YU9ialt0aGlzLnByaW1hcnlLZXldID0gbmV3SWQ7IC8vIOWwhua3u+WKoOS6hiDkuLvplK7lgLwg55qEIOWvueixoSDov73liqDliLDmlbDnu4QKCiAgICAgIGRhdGFBcnJheS5wdXNoKG5ld0RhdGFPYmopOyAvLyDlsIbmlbDnu4Qg5L+d5a2Y5YiwIGxvY2FsU3Ryb3JhZ2Ug5LitCgogICAgICB0aGlzLnNhdmVEYXRhKGRhdGFBcnJheSk7IC8vIOi/lOWbnua3u+WKoOS6hiBpZCDnmoTmlbDmja7lr7nosaEKCiAgICAgIHJldHVybiBuZXdJZDsKICAgIH0gLy8gNC7liKDpmaTmlbDmja4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIH0sIHsKICAgIGtleTogInJlbW92ZURhdGFCeUlkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVEYXRhQnlJZChpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8g6K+75Y+W5pys5Zyw5pWw57uECiAgICAgIHZhciBhcnIgPSB0aGlzLnJlYWREYXRhKCk7IC8vIOafpeaJvuimgeWIoOmZpCDor4Torrrlr7nosaHnmoQg5LiL5qCH77yM5bm25L+d5a2YIOWIsOacrOWcsAoKICAgICAgdmFyIGluZGV4ID0gYXJyLmZpbmRJbmRleChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgcmV0dXJuIGVsZVtfdGhpcy5wcmltYXJ5S2V5XSA9PSBpZDsKICAgICAgfSk7IC8vIOWmguaenOS4i+aghyDlpKfkuo4tMe+8jOWImeWIoOmZpOaVsOe7hOS4reivpeS4i+agh+WFg+e0oOWvueixoe+8jOW5tui/lOWbnnRydWUKCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7IC8vIOS/neWtmOWIsOacrOWcsAoKICAgICAgICB0aGlzLnNhdmVEYXRhKGFycik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsgLy8g5ZCm5YiZIOi/lOWbniBmYWxzZQogICAgfQogIH1dKTsKCiAgcmV0dXJuIERhdGFIZWxwZXI7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IERhdGFIZWxwZXI7"},{"version":3,"sources":["/Users/shulun-001/Downloads/ts-bian-show/src/store/DataHelper.ts"],"names":[],"mappings":";;;;;AAAA;IACM,U;AAIJ;AACA,wBAA4D;AAAA,QAAhD,OAAgD,uEAA9B,GAA8B;AAAA,QAAzB,UAAyB,uEAAJ,IAAI;;AAAA;;AAC1D,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,UAAL,GAAkB,UAAlB;AACD,G,CAED;;;;;WACA,oBAAQ;AACN;AACA,UAAI,OAAO,GAAkB,YAAY,CAAC,OAAb,CAAqB,KAAK,OAA1B,CAA7B,CAFM,CAIN;;AACA,UAAI,OAAO,GAAQ,EAAnB;;AACA,UAAI,OAAO,IAAI,IAAf,EAAqB;AACnB,QAAA,OAAO,GAAG,IAAI,CAAC,KAAL,CAAW,OAAX,CAAV;AACD,OARK,CASN;;;AACA,aAAO,OAAP;AACD,K,CAED;;;;WACA,kBAAS,OAAT,EAA+B;AAC7B;AACA,UAAI,GAAG,GAAW,IAAI,CAAC,SAAL,CAAe,OAAf,CAAlB,CAF6B,CAI7B;;AACA,MAAA,YAAY,CAAC,OAAb,CAAqB,KAAK,OAA1B,EAAmC,GAAnC;AACD,K,CAED;;;;WACA,iBAAQ,UAAR,EAAuB;AACrB,UAAI,SAAS,GAAG,KAAK,QAAL,EAAhB;;AACA,UAAI,SAAS,IAAI,IAAjB,EAAuB;AACrB,QAAA,SAAS,GAAG,EAAZ;AACD,OAJoB,CAMrB;AACA;AACA;;;AACA,UAAI,KAAK,GAAG,SAAS,CAAC,MAAV,GAAmB,CAAnB,GAAuB,SAAS,CAAC,SAAS,CAAC,MAAV,GAAmB,CAApB,CAAT,CAAgC,KAAK,UAArC,IAAmD,CAA1E,GAA8E,CAA1F;AACA,MAAA,UAAU,CAAC,KAAK,UAAN,CAAV,GAA8B,KAA9B,CAVqB,CAYrB;;AACA,MAAA,SAAS,CAAC,IAAV,CAAe,UAAf,EAbqB,CAerB;;AACA,WAAK,QAAL,CAAc,SAAd,EAhBqB,CAkBrB;;AACA,aAAO,KAAP;AACD,K,CAED;;;;WACA,wBAAe,EAAf,EAAkC;AAAA;;AAChC;AACA,UAAI,GAAG,GAAG,KAAK,QAAL,EAAV,CAFgC,CAIhC;;AACA,UAAI,KAAK,GAAG,GAAG,CAAC,SAAJ,CAAc,UAAC,GAAD,EAAa;AACrC,eAAO,GAAG,CAAC,KAAI,CAAC,UAAN,CAAH,IAAwB,EAA/B;AACD,OAFW,CAAZ,CALgC,CAShC;;AACA,UAAI,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,QAAA,GAAG,CAAC,MAAJ,CAAW,KAAX,EAAkB,CAAlB,EADc,CAEd;;AACA,aAAK,QAAL,CAAc,GAAd;AACA,eAAO,IAAP;AACD;;AAED,aAAO,KAAP,CAjBgC,CAiBlB;AACf;;;;;;AAGH,eAAe,UAAf","sourcesContent":["// DataHelper类 - 负责 localStorage 操作\r\nclass DataHelper {\r\n  dataKey: string;\r\n  primaryKey: string;\r\n\r\n  // 一、构造函数 --作用：为对象 添加 各种属性--------------------------\r\n  constructor(dataKey: string = '1', primaryKey: string = '12') {\r\n    this.dataKey = dataKey;\r\n    this.primaryKey = primaryKey;\r\n  }\r\n\r\n  // 1.读取全部数据，返回数组(如果没有读到数据 就返回 空数组)------------\r\n  readData(): any {\r\n    //1.读取 本地数据(根据dataKey读取)\r\n    let strData: string | null = localStorage.getItem(this.dataKey);\r\n\r\n    //2.将 读取的 json数组字符串 转成数组对象\r\n    let arrData: any = [];\r\n    if (strData != null) {\r\n      arrData = JSON.parse(strData);\r\n    }\r\n    //3.返回 数组对象\r\n    return arrData;\r\n  }\r\n\r\n  // 2.存入本地数据 -------------------------------------------------\r\n  saveData(arrData: Array<Object>): void {\r\n    //1.将数组 转成 json字符串\r\n    let str: string = JSON.stringify(arrData);\r\n\r\n    //2.将字符串 保存到 本地 localStorage 中\r\n    localStorage.setItem(this.dataKey, str);\r\n  }\r\n\r\n  // 3.新增数据---------------------------\r\n  addData(newDataObj: any): number {\r\n    let dataArray = this.readData();\r\n    if (dataArray == null) {\r\n      dataArray = [];\r\n    }\r\n\r\n    // 自动生成 主键值 (id 值)\r\n    //  如果 数组 长度 > 0，则 将 最后一个 元素的 id 值 取出 + 1 作为 新元素的 id值\r\n    //               <= 0, 则 将 1 作为 新元素的 id 值\r\n    let newId = dataArray.length > 0 ? dataArray[dataArray.length - 1][this.primaryKey] + 1 : 1;\r\n    newDataObj[this.primaryKey] = newId;\r\n\r\n    // 将添加了 主键值 的 对象 追加到数组\r\n    dataArray.push(newDataObj);\r\n\r\n    // 将数组 保存到 localStrorage 中\r\n    this.saveData(dataArray);\r\n\r\n    // 返回添加了 id 的数据对象\r\n    return newId;\r\n  }\r\n\r\n  // 4.删除数据 ---------------------------\r\n  removeDataById(id: string | number): boolean {\r\n    // 读取本地数组\r\n    let arr = this.readData();\r\n\r\n    // 查找要删除 评论对象的 下标，并保存 到本地\r\n    let index = arr.findIndex((ele: any) => {\r\n      return ele[this.primaryKey] == id;\r\n    });\r\n\r\n    // 如果下标 大于-1，则删除数组中该下标元素对象，并返回true\r\n    if (index > -1) {\r\n      arr.splice(index, 1);\r\n      // 保存到本地\r\n      this.saveData(arr);\r\n      return true;\r\n    }\r\n\r\n    return false; // 否则 返回 false\r\n  }\r\n}\r\n\r\nexport default DataHelper;"],"sourceRoot":""}]}